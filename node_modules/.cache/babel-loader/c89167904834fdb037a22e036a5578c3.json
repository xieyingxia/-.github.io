{"ast":null,"code":"/*\n * Copyright 2019, Alibaba Group.\n * Copyrights licensed under the BSD License.\n * See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar intl = _interopDefault(require('intl'));\n\nvar React = _interopDefault(require('react'));\n\nvar IntlMessageFormat = _interopDefault(require('intl-messageformat'));\n\nvar escapeHtml = _interopDefault(require('escape-html'));\n\nvar cookie = _interopDefault(require('cookie'));\n\nvar queryParser = _interopDefault(require('querystring'));\n\nvar invariant = _interopDefault(require('invariant'));\n\nrequire('console-polyfill');\n\nvar merge = _interopDefault(require('lodash.merge'));\n/**\n * Currency code list\n * https://www.currency-iso.org/en/home/tables/table-a1.html\n */\n\n\nvar currency = [\"AFN\", \"EUR\", \"ALL\", \"DZD\", \"USD\", \"AOA\", \"XCD\", \"ARS\", \"AMD\", \"AWG\", \"AUD\", \"AZN\", \"BSD\", \"BHD\", \"BDT\", \"BBD\", \"BYN\", \"BZD\", \"XOF\", \"BMD\", \"INR\", \"BTN\", \"BOB\", \"BOV\", \"BAM\", \"BWP\", \"NOK\", \"BRL\", \"BND\", \"BGN\", \"BIF\", \"CVE\", \"KHR\", \"XAF\", \"CAD\", \"KYD\", \"CLP\", \"CLF\", \"CNY\", \"COP\", \"COU\", \"KMF\", \"CDF\", \"NZD\", \"CRC\", \"HRK\", \"CUP\", \"CUC\", \"ANG\", \"CZK\", \"DKK\", \"DJF\", \"DOP\", \"EGP\", \"SVC\", \"ERN\", \"ETB\", \"FKP\", \"FJD\", \"XPF\", \"GMD\", \"GEL\", \"GHS\", \"GIP\", \"GTQ\", \"GBP\", \"GNF\", \"GYD\", \"HTG\", \"HNL\", \"HKD\", \"HUF\", \"ISK\", \"IDR\", \"XDR\", \"IRR\", \"IQD\", \"ILS\", \"JMD\", \"JPY\", \"JOD\", \"KZT\", \"KES\", \"KPW\", \"KRW\", \"KWD\", \"KGS\", \"LAK\", \"LBP\", \"LSL\", \"ZAR\", \"LRD\", \"LYD\", \"CHF\", \"MOP\", \"MKD\", \"MGA\", \"MWK\", \"MYR\", \"MVR\", \"MRO\", \"MUR\", \"XUA\", \"MXN\", \"MXV\", \"MDL\", \"MNT\", \"MAD\", \"MZN\", \"MMK\", \"NAD\", \"NPR\", \"NIO\", \"NGN\", \"OMR\", \"PKR\", \"PAB\", \"PGK\", \"PYG\", \"PEN\", \"PHP\", \"PLN\", \"QAR\", \"RON\", \"RUB\", \"RWF\", \"SHP\", \"WST\", \"STD\", \"SAR\", \"RSD\", \"SCR\", \"SLL\", \"SGD\", \"XSU\", \"SBD\", \"SOS\", \"SSP\", \"LKR\", \"SDG\", \"SRD\", \"SZL\", \"SEK\", \"CHE\", \"CHW\", \"SYP\", \"TWD\", \"TJS\", \"TZS\", \"THB\", \"TOP\", \"TTD\", \"TND\", \"TRY\", \"TMT\", \"UGX\", \"UAH\", \"AED\", \"USN\", \"UYU\", \"UYI\", \"UZS\", \"VUV\", \"VEF\", \"VND\", \"YER\", \"ZMW\", \"ZWL\", \"XBA\", \"XBB\", \"XBC\", \"XBD\", \"XTS\", \"XXX\", \"XAU\", \"XPD\", \"XPT\", \"XAG\"];\nvar numberFormat = {};\n\nfor (var i = 0; i < currency.length; i++) {\n  numberFormat[currency[i]] = {\n    style: 'currency',\n    currency: currency[i]\n  };\n}\n\nvar defaultFormats = {\n  number: numberFormat\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nString.prototype.defaultMessage = String.prototype.d = function (msg) {\n  return this || msg || \"\";\n};\n\nvar ReactIntlUniversal = function () {\n  function ReactIntlUniversal() {\n    classCallCheck(this, ReactIntlUniversal);\n    this.options = {\n      currentLocale: null,\n      // Current locale such as 'en-US'\n      locales: {},\n      // app locale data like {\"en-US\":{\"key1\":\"value1\"},\"zh-CN\":{\"key1\":\"值1\"}}\n      warningHandler: console.warn.bind(console),\n      // ability to accumulate missing messages using third party services like Sentry\n      escapeHtml: true,\n      // disable escape html in variable mode\n      // commonLocaleDataUrls: COMMON_LOCALE_DATA_URLS,\n      fallbackLocale: null // Locale to use if a key is not found in the current locale\n\n    };\n  }\n  /**\n   * Get the formatted message by key\n   * @param {string} key The string representing key in locale data file\n   * @param {Object} variables Variables in message\n   * @returns {string} message\n   */\n\n\n  createClass(ReactIntlUniversal, [{\n    key: \"get\",\n    value: function get$$1(key, variables) {\n      invariant(key, \"key is required\");\n      var _options = this.options,\n          locales = _options.locales,\n          currentLocale = _options.currentLocale,\n          formats = _options.formats;\n\n      if (!locales || !locales[currentLocale]) {\n        this.options.warningHandler(\"react-intl-universal locales data \\\"\" + currentLocale + \"\\\" not exists.\");\n        return \"\";\n      }\n\n      var msg = this.getDescendantProp(locales[currentLocale], key);\n\n      if (msg == null) {\n        if (this.options.fallbackLocale) {\n          msg = this.getDescendantProp(locales[this.options.fallbackLocale], key);\n\n          if (msg == null) {\n            this.options.warningHandler(\"react-intl-universal key \\\"\" + key + \"\\\" not defined in \" + currentLocale + \" or the fallback locale, \" + this.options.fallbackLocale);\n            return \"\";\n          }\n        } else {\n          this.options.warningHandler(\"react-intl-universal key \\\"\" + key + \"\\\" not defined in \" + currentLocale);\n          return \"\";\n        }\n      }\n\n      if (variables) {\n        variables = Object.assign({}, variables); // HTML message with variables. Escape it to avoid XSS attack.\n\n        for (var i in variables) {\n          var value = variables[i];\n\n          if (this.options.escapeHtml === true && (typeof value === \"string\" || value instanceof String) && value.indexOf(\"<\") >= 0 && value.indexOf(\">\") >= 0) {\n            value = escapeHtml(value);\n          }\n\n          variables[i] = value;\n        }\n      }\n\n      try {\n        var msgFormatter = new IntlMessageFormat(msg, currentLocale, formats);\n        return msgFormatter.format(variables);\n      } catch (err) {\n        this.options.warningHandler(\"react-intl-universal format message failed for key='\" + key + \"'.\", err.message);\n        return msg;\n      }\n    }\n    /**\n     * Get the formatted html message by key.\n     * @param {string} key The string representing key in locale data file\n     * @param {Object} variables Variables in message\n     * @returns {React.Element} message\n    */\n\n  }, {\n    key: \"getHTML\",\n    value: function getHTML(key, variables) {\n      var msg = this.get(key, variables);\n\n      if (msg) {\n        var el = React.createElement(\"span\", {\n          dangerouslySetInnerHTML: {\n            __html: msg\n          }\n        }); // when key exists, it should still return element if there's defaultMessage() after getHTML()\n\n        var defaultMessage = function defaultMessage() {\n          return el;\n        };\n\n        return Object.assign({\n          defaultMessage: defaultMessage,\n          d: defaultMessage\n        }, el);\n      }\n\n      return \"\";\n    }\n    /**\n     * As same as get(...) API\n     * @param {Object} options\n     * @param {string} options.id\n     * @param {string} options.defaultMessage\n     * @param {Object} variables Variables in message\n     * @returns {string} message\n    */\n\n  }, {\n    key: \"formatMessage\",\n    value: function formatMessage(messageDescriptor, variables) {\n      var id = messageDescriptor.id,\n          defaultMessage = messageDescriptor.defaultMessage;\n      return this.get(id, variables).defaultMessage(defaultMessage);\n    }\n    /**\n     * As same as getHTML(...) API\n     * @param {Object} options\n     * @param {string} options.id\n     * @param {React.Element} options.defaultMessage\n     * @param {Object} variables Variables in message\n     * @returns {React.Element} message\n    */\n\n  }, {\n    key: \"formatHTMLMessage\",\n    value: function formatHTMLMessage(messageDescriptor, variables) {\n      var id = messageDescriptor.id,\n          defaultMessage = messageDescriptor.defaultMessage;\n      return this.getHTML(id, variables).defaultMessage(defaultMessage);\n    }\n    /**\n     * Helper: determine user's locale via URL, cookie, localStorage, and browser's language.\n     * You may not this API, if you have other rules to determine user's locale.\n     * @param {string} options.urlLocaleKey URL's query Key to determine locale. Example: if URL=http://localhost?lang=en-US, then set it 'lang'\n     * @param {string} options.cookieLocaleKey Cookie's Key to determine locale. Example: if cookie=lang:en-US, then set it 'lang'\n     * @param {string} options.localStorageLocaleKey LocalStorage's Key to determine locale such as 'lang'\n     * @returns {string} determined locale such as 'en-US'\n     */\n\n  }, {\n    key: \"determineLocale\",\n    value: function determineLocale() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return this.getLocaleFromURL(options) || this.getLocaleFromCookie(options) || this.getLocaleFromLocalStorage(options) || this.getLocaleFromBrowser();\n    }\n    /**\n     * Initialize properties and load CLDR locale data according to currentLocale\n     * @param {Object} options\n     * @param {string} options.currentLocale Current locale such as 'en-US'\n     * @param {string} options.locales App locale data like {\"en-US\":{\"key1\":\"value1\"},\"zh-CN\":{\"key1\":\"值1\"}}\n     * @returns {Promise}\n     */\n\n  }, {\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      invariant(options.currentLocale, \"options.currentLocale is required\");\n      invariant(options.locales, \"options.locales is required\");\n      Object.assign(this.options, options);\n      this.options.formats = Object.assign({}, this.options.formats, defaultFormats);\n      return new Promise(function (resolve, reject) {\n        // init() will not load external common locale data anymore.\n        // But, it still return a Promise for abckward compatibility.\n        resolve();\n      });\n    }\n    /**\n     * Get the inital options\n     */\n\n  }, {\n    key: \"getInitOptions\",\n    value: function getInitOptions() {\n      return this.options;\n    }\n    /**\n     * Load more locales after init\n     */\n\n  }, {\n    key: \"load\",\n    value: function load(locales) {\n      merge(this.options.locales, locales);\n    }\n  }, {\n    key: \"getLocaleFromCookie\",\n    value: function getLocaleFromCookie(options) {\n      var cookieLocaleKey = options.cookieLocaleKey;\n\n      if (cookieLocaleKey) {\n        var params = cookie.parse(document.cookie);\n        return params && params[cookieLocaleKey];\n      }\n    }\n  }, {\n    key: \"getLocaleFromLocalStorage\",\n    value: function getLocaleFromLocalStorage(options) {\n      var localStorageLocaleKey = options.localStorageLocaleKey;\n\n      if (localStorageLocaleKey && window.localStorage) {\n        return localStorage.getItem(localStorageLocaleKey);\n      }\n    }\n  }, {\n    key: \"getLocaleFromURL\",\n    value: function getLocaleFromURL(options) {\n      var urlLocaleKey = options.urlLocaleKey;\n\n      if (urlLocaleKey) {\n        var query = location.search.split(\"?\");\n\n        if (query.length >= 2) {\n          var params = queryParser.parse(query[1]);\n          return params && params[urlLocaleKey];\n        }\n      }\n    }\n  }, {\n    key: \"getDescendantProp\",\n    value: function getDescendantProp(locale, key) {\n      if (locale[key]) {\n        return locale[key];\n      }\n\n      var msg = key.split(\".\").reduce(function (a, b) {\n        return a != undefined ? a[b] : a;\n      }, locale);\n      return msg;\n    }\n  }, {\n    key: \"getLocaleFromBrowser\",\n    value: function getLocaleFromBrowser() {\n      return navigator.language || navigator.userLanguage;\n    }\n  }]);\n  return ReactIntlUniversal;\n}();\n\nmodule.exports = new ReactIntlUniversal();\nmodule.exports.ReactIntlUniversal = ReactIntlUniversal;","map":{"version":3,"sources":["/Users/xiangmingxin/个人项目/react_shop/react/react_shop/node_modules/_react-intl-universal@2.2.2@react-intl-universal/lib/index.js"],"names":["_interopDefault","ex","intl","require","React","IntlMessageFormat","escapeHtml","cookie","queryParser","invariant","merge","currency","numberFormat","i","length","style","defaultFormats","number","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","String","defaultMessage","d","msg","ReactIntlUniversal","options","currentLocale","locales","warningHandler","console","warn","bind","fallbackLocale","value","get$$1","variables","_options","formats","getDescendantProp","assign","indexOf","msgFormatter","format","err","message","getHTML","get","el","createElement","dangerouslySetInnerHTML","__html","formatMessage","messageDescriptor","id","formatHTMLMessage","determineLocale","arguments","undefined","getLocaleFromURL","getLocaleFromCookie","getLocaleFromLocalStorage","getLocaleFromBrowser","init","Promise","resolve","reject","getInitOptions","load","cookieLocaleKey","params","parse","document","localStorageLocaleKey","window","localStorage","getItem","urlLocaleKey","query","location","search","split","locale","reduce","a","b","navigator","language","userLanguage","module","exports"],"mappings":"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","sourcesContent":["/*\n * Copyright 2019, Alibaba Group.\n * Copyrights licensed under the BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\n'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar intl = _interopDefault(require('intl'));\nvar React = _interopDefault(require('react'));\nvar IntlMessageFormat = _interopDefault(require('intl-messageformat'));\nvar escapeHtml = _interopDefault(require('escape-html'));\nvar cookie = _interopDefault(require('cookie'));\nvar queryParser = _interopDefault(require('querystring'));\nvar invariant = _interopDefault(require('invariant'));\nrequire('console-polyfill');\nvar merge = _interopDefault(require('lodash.merge'));\n\n/**\n * Currency code list\n * https://www.currency-iso.org/en/home/tables/table-a1.html\n */\nvar currency = [\"AFN\", \"EUR\", \"ALL\", \"DZD\", \"USD\", \"AOA\", \"XCD\", \"ARS\", \"AMD\", \"AWG\", \"AUD\", \"AZN\", \"BSD\", \"BHD\", \"BDT\", \"BBD\", \"BYN\", \"BZD\", \"XOF\", \"BMD\", \"INR\", \"BTN\", \"BOB\", \"BOV\", \"BAM\", \"BWP\", \"NOK\", \"BRL\", \"BND\", \"BGN\", \"BIF\", \"CVE\", \"KHR\", \"XAF\", \"CAD\", \"KYD\", \"CLP\", \"CLF\", \"CNY\", \"COP\", \"COU\", \"KMF\", \"CDF\", \"NZD\", \"CRC\", \"HRK\", \"CUP\", \"CUC\", \"ANG\", \"CZK\", \"DKK\", \"DJF\", \"DOP\", \"EGP\", \"SVC\", \"ERN\", \"ETB\", \"FKP\", \"FJD\", \"XPF\", \"GMD\", \"GEL\", \"GHS\", \"GIP\", \"GTQ\", \"GBP\", \"GNF\", \"GYD\", \"HTG\", \"HNL\", \"HKD\", \"HUF\", \"ISK\", \"IDR\", \"XDR\", \"IRR\", \"IQD\", \"ILS\", \"JMD\", \"JPY\", \"JOD\", \"KZT\", \"KES\", \"KPW\", \"KRW\", \"KWD\", \"KGS\", \"LAK\", \"LBP\", \"LSL\", \"ZAR\", \"LRD\", \"LYD\", \"CHF\", \"MOP\", \"MKD\", \"MGA\", \"MWK\", \"MYR\", \"MVR\", \"MRO\", \"MUR\", \"XUA\", \"MXN\", \"MXV\", \"MDL\", \"MNT\", \"MAD\", \"MZN\", \"MMK\", \"NAD\", \"NPR\", \"NIO\", \"NGN\", \"OMR\", \"PKR\", \"PAB\", \"PGK\", \"PYG\", \"PEN\", \"PHP\", \"PLN\", \"QAR\", \"RON\", \"RUB\", \"RWF\", \"SHP\", \"WST\", \"STD\", \"SAR\", \"RSD\", \"SCR\", \"SLL\", \"SGD\", \"XSU\", \"SBD\", \"SOS\", \"SSP\", \"LKR\", \"SDG\", \"SRD\", \"SZL\", \"SEK\", \"CHE\", \"CHW\", \"SYP\", \"TWD\", \"TJS\", \"TZS\", \"THB\", \"TOP\", \"TTD\", \"TND\", \"TRY\", \"TMT\", \"UGX\", \"UAH\", \"AED\", \"USN\", \"UYU\", \"UYI\", \"UZS\", \"VUV\", \"VEF\", \"VND\", \"YER\", \"ZMW\", \"ZWL\", \"XBA\", \"XBB\", \"XBC\", \"XBD\", \"XTS\", \"XXX\", \"XAU\", \"XPD\", \"XPT\", \"XAG\"];\n\nvar numberFormat = {};\n\nfor (var i = 0; i < currency.length; i++) {\n  numberFormat[currency[i]] = {\n    style: 'currency',\n    currency: currency[i]\n  };\n}\n\nvar defaultFormats = {\n  number: numberFormat\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nString.prototype.defaultMessage = String.prototype.d = function (msg) {\n  return this || msg || \"\";\n};\n\nvar ReactIntlUniversal = function () {\n  function ReactIntlUniversal() {\n    classCallCheck(this, ReactIntlUniversal);\n\n    this.options = {\n      currentLocale: null, // Current locale such as 'en-US'\n      locales: {}, // app locale data like {\"en-US\":{\"key1\":\"value1\"},\"zh-CN\":{\"key1\":\"值1\"}}\n      warningHandler: console.warn.bind(console), // ability to accumulate missing messages using third party services like Sentry\n      escapeHtml: true, // disable escape html in variable mode\n      // commonLocaleDataUrls: COMMON_LOCALE_DATA_URLS,\n      fallbackLocale: null // Locale to use if a key is not found in the current locale\n    };\n  }\n\n  /**\n   * Get the formatted message by key\n   * @param {string} key The string representing key in locale data file\n   * @param {Object} variables Variables in message\n   * @returns {string} message\n   */\n\n\n  createClass(ReactIntlUniversal, [{\n    key: \"get\",\n    value: function get$$1(key, variables) {\n      invariant(key, \"key is required\");\n      var _options = this.options,\n          locales = _options.locales,\n          currentLocale = _options.currentLocale,\n          formats = _options.formats;\n\n\n      if (!locales || !locales[currentLocale]) {\n        this.options.warningHandler(\"react-intl-universal locales data \\\"\" + currentLocale + \"\\\" not exists.\");\n        return \"\";\n      }\n      var msg = this.getDescendantProp(locales[currentLocale], key);\n      if (msg == null) {\n        if (this.options.fallbackLocale) {\n          msg = this.getDescendantProp(locales[this.options.fallbackLocale], key);\n          if (msg == null) {\n            this.options.warningHandler(\"react-intl-universal key \\\"\" + key + \"\\\" not defined in \" + currentLocale + \" or the fallback locale, \" + this.options.fallbackLocale);\n            return \"\";\n          }\n        } else {\n          this.options.warningHandler(\"react-intl-universal key \\\"\" + key + \"\\\" not defined in \" + currentLocale);\n          return \"\";\n        }\n      }\n      if (variables) {\n        variables = Object.assign({}, variables);\n        // HTML message with variables. Escape it to avoid XSS attack.\n        for (var i in variables) {\n          var value = variables[i];\n          if (this.options.escapeHtml === true && (typeof value === \"string\" || value instanceof String) && value.indexOf(\"<\") >= 0 && value.indexOf(\">\") >= 0) {\n            value = escapeHtml(value);\n          }\n          variables[i] = value;\n        }\n      }\n\n      try {\n        var msgFormatter = new IntlMessageFormat(msg, currentLocale, formats);\n        return msgFormatter.format(variables);\n      } catch (err) {\n        this.options.warningHandler(\"react-intl-universal format message failed for key='\" + key + \"'.\", err.message);\n        return msg;\n      }\n    }\n\n    /**\n     * Get the formatted html message by key.\n     * @param {string} key The string representing key in locale data file\n     * @param {Object} variables Variables in message\n     * @returns {React.Element} message\n    */\n\n  }, {\n    key: \"getHTML\",\n    value: function getHTML(key, variables) {\n      var msg = this.get(key, variables);\n      if (msg) {\n        var el = React.createElement(\"span\", {\n          dangerouslySetInnerHTML: {\n            __html: msg\n          }\n        });\n        // when key exists, it should still return element if there's defaultMessage() after getHTML()\n        var defaultMessage = function defaultMessage() {\n          return el;\n        };\n        return Object.assign({ defaultMessage: defaultMessage, d: defaultMessage }, el);\n      }\n      return \"\";\n    }\n\n    /**\n     * As same as get(...) API\n     * @param {Object} options\n     * @param {string} options.id\n     * @param {string} options.defaultMessage\n     * @param {Object} variables Variables in message\n     * @returns {string} message\n    */\n\n  }, {\n    key: \"formatMessage\",\n    value: function formatMessage(messageDescriptor, variables) {\n      var id = messageDescriptor.id,\n          defaultMessage = messageDescriptor.defaultMessage;\n\n      return this.get(id, variables).defaultMessage(defaultMessage);\n    }\n\n    /**\n     * As same as getHTML(...) API\n     * @param {Object} options\n     * @param {string} options.id\n     * @param {React.Element} options.defaultMessage\n     * @param {Object} variables Variables in message\n     * @returns {React.Element} message\n    */\n\n  }, {\n    key: \"formatHTMLMessage\",\n    value: function formatHTMLMessage(messageDescriptor, variables) {\n      var id = messageDescriptor.id,\n          defaultMessage = messageDescriptor.defaultMessage;\n\n      return this.getHTML(id, variables).defaultMessage(defaultMessage);\n    }\n\n    /**\n     * Helper: determine user's locale via URL, cookie, localStorage, and browser's language.\n     * You may not this API, if you have other rules to determine user's locale.\n     * @param {string} options.urlLocaleKey URL's query Key to determine locale. Example: if URL=http://localhost?lang=en-US, then set it 'lang'\n     * @param {string} options.cookieLocaleKey Cookie's Key to determine locale. Example: if cookie=lang:en-US, then set it 'lang'\n     * @param {string} options.localStorageLocaleKey LocalStorage's Key to determine locale such as 'lang'\n     * @returns {string} determined locale such as 'en-US'\n     */\n\n  }, {\n    key: \"determineLocale\",\n    value: function determineLocale() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this.getLocaleFromURL(options) || this.getLocaleFromCookie(options) || this.getLocaleFromLocalStorage(options) || this.getLocaleFromBrowser();\n    }\n\n    /**\n     * Initialize properties and load CLDR locale data according to currentLocale\n     * @param {Object} options\n     * @param {string} options.currentLocale Current locale such as 'en-US'\n     * @param {string} options.locales App locale data like {\"en-US\":{\"key1\":\"value1\"},\"zh-CN\":{\"key1\":\"值1\"}}\n     * @returns {Promise}\n     */\n\n  }, {\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      invariant(options.currentLocale, \"options.currentLocale is required\");\n      invariant(options.locales, \"options.locales is required\");\n\n      Object.assign(this.options, options);\n\n      this.options.formats = Object.assign({}, this.options.formats, defaultFormats);\n\n      return new Promise(function (resolve, reject) {\n        // init() will not load external common locale data anymore.\n        // But, it still return a Promise for abckward compatibility.\n        resolve();\n      });\n    }\n\n    /**\n     * Get the inital options\n     */\n\n  }, {\n    key: \"getInitOptions\",\n    value: function getInitOptions() {\n      return this.options;\n    }\n\n    /**\n     * Load more locales after init\n     */\n\n  }, {\n    key: \"load\",\n    value: function load(locales) {\n      merge(this.options.locales, locales);\n    }\n  }, {\n    key: \"getLocaleFromCookie\",\n    value: function getLocaleFromCookie(options) {\n      var cookieLocaleKey = options.cookieLocaleKey;\n\n      if (cookieLocaleKey) {\n        var params = cookie.parse(document.cookie);\n        return params && params[cookieLocaleKey];\n      }\n    }\n  }, {\n    key: \"getLocaleFromLocalStorage\",\n    value: function getLocaleFromLocalStorage(options) {\n      var localStorageLocaleKey = options.localStorageLocaleKey;\n\n      if (localStorageLocaleKey && window.localStorage) {\n        return localStorage.getItem(localStorageLocaleKey);\n      }\n    }\n  }, {\n    key: \"getLocaleFromURL\",\n    value: function getLocaleFromURL(options) {\n      var urlLocaleKey = options.urlLocaleKey;\n\n      if (urlLocaleKey) {\n        var query = location.search.split(\"?\");\n        if (query.length >= 2) {\n          var params = queryParser.parse(query[1]);\n          return params && params[urlLocaleKey];\n        }\n      }\n    }\n  }, {\n    key: \"getDescendantProp\",\n    value: function getDescendantProp(locale, key) {\n\n      if (locale[key]) {\n        return locale[key];\n      }\n\n      var msg = key.split(\".\").reduce(function (a, b) {\n        return a != undefined ? a[b] : a;\n      }, locale);\n\n      return msg;\n    }\n  }, {\n    key: \"getLocaleFromBrowser\",\n    value: function getLocaleFromBrowser() {\n      return navigator.language || navigator.userLanguage;\n    }\n  }]);\n  return ReactIntlUniversal;\n}();\n\nmodule.exports = new ReactIntlUniversal();\nmodule.exports.ReactIntlUniversal = ReactIntlUniversal;\n"]},"metadata":{},"sourceType":"script"}