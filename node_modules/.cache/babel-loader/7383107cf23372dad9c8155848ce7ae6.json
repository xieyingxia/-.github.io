{"ast":null,"code":"var _jsxFileName = \"/Users/xiangmingxin/\\u4E2A\\u4EBA\\u9879\\u76EE/react_shop/react/react_shop/src/components/FootNav/footNav.jsx\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\"; // import {browserHistory} from 'react-router'\n\nimport './footNav.less';\n\nclass footNav extends React.Component {\n  constructor(props) {\n    super(props);\n    this.pageGo = this.pageGo.bind(this);\n    this.state = {\n      index: 0,\n      tabbarArr: [{\n        id: 0,\n        text: \"Home\",\n        imgPic: require(\"../../static/images/tabBar/home.png\"),\n        imgActive: require(\"../../static/images/tabBar/home-active.png\"),\n        path: '',\n        isActive: false\n      }, {\n        id: 1,\n        text: \"Lottery\",\n        imgPic: require(\"../../static/images/tabBar/lottery.png\"),\n        imgActive: require(\"../../static/images/tabBar/lottery-active.png\"),\n        path: 'lottery',\n        isActive: false\n      }, {\n        id: 2,\n        text: \"Listing\",\n        imgPic: require(\"../../static/images/tabBar/list.png\"),\n        imgActive: require(\"../../static/images/tabBar/list-active.png\"),\n        path: 'listing',\n        isActive: false\n      }, {\n        id: 3,\n        text: \"Mine\",\n        imgPic: require(\"../../static/images/tabBar/me.png\"),\n        imgActive: require(\"../../static/images/tabBar/me-active.png\"),\n        path: 'mine',\n        isActive: false\n      }]\n    };\n  }\n\n  componentDidMount() {\n    let currentPage = window.location.pathname.replace(\"/\", \"\");\n    ;\n    console.log(currentPage); //    console.log(currentPage)\n\n    let data = this.state.tabbarArr;\n    data.forEach((item, index) => {\n      item.isActive = false;\n\n      if (item.path === currentPage) {\n        data[index].isActive = true;\n        this.setState({\n          tabbarArr: data\n        });\n      }\n    });\n  }\n\n  render() {\n    let imgPath = \"\";\n    let data = this.state.tabbarArr;\n    return React.createElement(\"div\", {\n      className: \"nav-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, data.map((item, key) => {\n      if (item.isActive) {\n        imgPath = item.imgActive;\n      } else {\n        imgPath = item.imgPic;\n      }\n\n      return React.createElement(\"li\", {\n        key: key,\n        onClick: this.pageGo,\n        \"data-to\": item.path,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: imgPath,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), item.text);\n    })));\n  }\n\n  pageGo(event) {\n    let page = event.currentTarget.getAttribute(\"data-to\");\n    this.props.history.push(\"/\" + page); // this.setState({\n    //     index:key\n    // })\n  }\n\n}\n\nexport default withRouter(footNav);","map":{"version":3,"sources":["/Users/xiangmingxin/个人项目/react_shop/react/react_shop/src/components/FootNav/footNav.jsx"],"names":["React","withRouter","footNav","Component","constructor","props","pageGo","bind","state","index","tabbarArr","id","text","imgPic","require","imgActive","path","isActive","componentDidMount","currentPage","window","location","pathname","replace","console","log","data","forEach","item","setState","render","imgPath","map","key","event","page","currentTarget","getAttribute","history","push"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { withRouter} from \"react-router-dom\"\n// import {browserHistory} from 'react-router'\nimport './footNav.less'\n\nclass footNav extends React.Component{\n    constructor(props){\n        super(props)\n        this.pageGo=this.pageGo.bind(this);\n        this.state = {\n            index:0,\n            tabbarArr : [\n                {   id:0,\n                    text:\"Home\",\n                    imgPic:require(\"../../static/images/tabBar/home.png\"),\n                    imgActive:require(\"../../static/images/tabBar/home-active.png\"),\n                    path:'',\n                    isActive:false\n                },\n                {   id:1,\n                    text:\"Lottery\",\n                    imgPic:require(\"../../static/images/tabBar/lottery.png\"),\n                    imgActive:require(\"../../static/images/tabBar/lottery-active.png\"),\n                    path:'lottery',\n                    isActive:false\n                },\n                {   id:2,\n                    text:\"Listing\",\n                    imgPic:require(\"../../static/images/tabBar/list.png\"),\n                    imgActive:require(\"../../static/images/tabBar/list-active.png\"),\n                    path:'listing',\n                    isActive:false\n                },\n                {   id:3,\n                    text:\"Mine\",\n                    imgPic:require(\"../../static/images/tabBar/me.png\"),\n                    imgActive:require(\"../../static/images/tabBar/me-active.png\"),\n                    path:'mine',\n                    isActive:false\n                },\n            ]\n        }\n    }\n    componentDidMount(){\n        let currentPage = window.location.pathname.replace(\"/\",\"\");;\n        console.log(currentPage)\n    //    console.log(currentPage)\n        let data = this.state.tabbarArr\n        data.forEach((item,index)=>{\n              item.isActive = false\n            if(item.path === currentPage){\n                data[index].isActive=true;\n                this.setState({\n                    tabbarArr: data\n                  });\n            }\n        })\n    }\n    render(){\n        let imgPath=\"\";\n        let data = this.state.tabbarArr\n        return(\n            <div className=\"nav-footer\">\n                <ul className=\"clearfix\">\n                {\n                    data.map((item,key)=>{\n                        if(item.isActive){\n                            imgPath=item.imgActive\n                        }else{\n                            imgPath=item.imgPic\n                        }\n                        return(\n                            <li key={key} onClick={this.pageGo} data-to={item.path} >\n                               \n                                {/* <Link to={item.path}> */}\n                                    <img src={imgPath}  alt=\"\" />\n                                    {/* <img src={item.imgActive}  alt=\"\" /> */}\n                                    {/* <img  src={item.imgActive} key={key} alt=\"\" /> */}\n                                    {item.text}\n                                {/* </Link> */}\n                            </li>\n                        )\n                    })\n                }       \n                </ul>\n            </div>\n        )\n    }\n    pageGo(event){\n        let page=event.currentTarget.getAttribute(\"data-to\");\n        this.props.history.push(\"/\"+page);\n        // this.setState({\n        //     index:key\n        // })\n    }\n}\n\nexport default withRouter(footNav)"]},"metadata":{},"sourceType":"module"}