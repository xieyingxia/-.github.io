{"ast":null,"code":"var _jsxFileName = \"/Users/xiangmingxin/\\u4E2A\\u4EBA\\u9879\\u76EE/react_shop/react/react_shop/src/App.js\";\nimport React from 'react';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport AppRouter from './router/AppRouter';\nimport FooterNav from \"./components/FootNav/footNav.jsx\";\nimport { emit } from './locale/emit.js';\nimport zh_CN from 'antd/es/locale/zh_CN';\nimport en_US from 'antd/es/locale/en_US';\nimport intl from 'react-intl-universal';\nimport { ConfigProvider } from 'antd';\nconst locales = {\n  'en-US': require('./locale/en_US.json'),\n  'zh-CN': require('./locale/zh_CN.json')\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      antdLang: zh_CN // 修改antd  组件的国际化\n\n    };\n  }\n\n  componentDidMount() {\n    emit.on('change_language', lang => this.loadLocales(lang)); // 监听语言改变事件\n\n    this.loadLocales(); // 初始化语言\n  }\n\n  loadLocales(lang = 'zh-CN') {\n    intl.init({\n      currentLocale: lang,\n      // 设置初始语音\n      locales\n    }).then(() => {\n      this.setState({\n        antdLang: lang === 'zh-CN' ? zh_CN : en_US\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(ConfigProvider, {\n      locale: this.state.antdLang,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, AppRouter.map((item, index) => {\n      if (item.isShow) {\n        if (item.exact) {\n          return React.createElement(Route, {\n            key: index,\n            exact: true,\n            path: item.path,\n            render: props => React.createElement(item.component, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 53\n              },\n              __self: this\n            })),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(Route, {\n            key: index,\n            path: item.path,\n            render: props => React.createElement(item.component, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 63\n              },\n              __self: this\n            })),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          });\n        }\n      }\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(FooterNav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/xiangmingxin/个人项目/react_shop/react/react_shop/src/App.js"],"names":["React","BrowserRouter","Router","Route","AppRouter","FooterNav","emit","zh_CN","en_US","intl","ConfigProvider","locales","require","App","Component","constructor","props","state","antdLang","componentDidMount","on","lang","loadLocales","init","currentLocale","then","setState","render","map","item","index","isShow","exact","path"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,QAA+C,kBAA/C;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AAEA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AAEA,SAASC,cAAT,QAA+B,MAA/B;AACA,MAAMC,OAAO,GAAG;AACZ,WAASC,OAAO,CAAC,qBAAD,CADJ;AAEZ,WAASA,OAAO,CAAC,qBAAD;AAFJ,CAAhB;;AAKA,MAAMC,GAAN,SAAkBb,KAAK,CAACc,SAAxB,CAAkC;AAC9BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAEX,KADD,CACS;;AADT,KAAb;AAGD;;AACDY,EAAAA,iBAAiB,GAAG;AAClBb,IAAAA,IAAI,CAACc,EAAL,CAAQ,iBAAR,EAA2BC,IAAI,IAAI,KAAKC,WAAL,CAAiBD,IAAjB,CAAnC,EADkB,CAC0C;;AAC5D,SAAKC,WAAL,GAFkB,CAEE;AACrB;;AACDA,EAAAA,WAAW,CAACD,IAAI,GAAG,OAAR,EAAiB;AAC1BZ,IAAAA,IAAI,CAACc,IAAL,CAAU;AACNC,MAAAA,aAAa,EAAEH,IADT;AACgB;AACtBV,MAAAA;AAFM,KAAV,EAGGc,IAHH,CAGQ,MAAM;AACV,WAAKC,QAAL,CAAc;AACVR,QAAAA,QAAQ,EAAEG,IAAI,KAAK,OAAT,GAAmBd,KAAnB,GAA2BC;AAD3B,OAAd;AAGH,KAPD;AAQD;;AACHmB,EAAAA,MAAM,GAAI;AACN,WACI,oBAAC,cAAD;AAAgB,MAAA,MAAM,EAAE,KAAKV,KAAL,CAAWC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEMd,SAAS,CAACwB,GAAV,CAAc,CAACC,IAAD,EAAMC,KAAN,KAAc;AAC1B,UAAGD,IAAI,CAACE,MAAR,EAAe;AACX,YAAGF,IAAI,CAACG,KAAR,EAAc;AACV,iBACI,oBAAC,KAAD;AACA,YAAA,GAAG,EAAEF,KADL;AAEA,YAAA,KAAK,MAFL;AAGA,YAAA,IAAI,EAAED,IAAI,CAACI,IAHX;AAIA,YAAA,MAAM,EAAEjB,KAAK,IACT,oBAAC,IAAD,CAAM,SAAN,oBAAoBA,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAUH,SAXD,MAWK;AACD,iBACI,oBAAC,KAAD;AACA,YAAA,GAAG,EAAEc,KADL;AAEA,YAAA,IAAI,EAAED,IAAI,CAACI,IAFX;AAGA,YAAA,MAAM,EAAEjB,KAAK,IACT,oBAAC,IAAD,CAAM,SAAN,oBAAoBA,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AASH;AACJ;AACF,KAzBD,CAFN,EA6BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CA7BJ,CADJ,CADA,CADJ;AAuCH;;AA7D6B;;AA+DlC,eAAeH,GAAf","sourcesContent":["import React from 'react'\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"\nimport AppRouter from './router/AppRouter'\nimport FooterNav from \"./components/FootNav/footNav.jsx\"\n\nimport {emit} from './locale/emit.js'\nimport zh_CN from 'antd/es/locale/zh_CN';\nimport en_US from 'antd/es/locale/en_US';\nimport intl from 'react-intl-universal';\n\nimport { ConfigProvider } from 'antd';\nconst locales = {\n    'en-US': require('./locale/en_US.json'),\n    'zh-CN': require('./locale/zh_CN.json'),\n  };\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            antdLang: zh_CN,  // 修改antd  组件的国际化\n        }\n      }\n      componentDidMount() {\n        emit.on('change_language', lang => this.loadLocales(lang)); // 监听语言改变事件\n        this.loadLocales(); // 初始化语言\n      }\n      loadLocales(lang = 'zh-CN') {\n        intl.init({\n            currentLocale: lang,  // 设置初始语音\n            locales,\n        }).then(() => {\n            this.setState({\n                antdLang: lang === 'zh-CN' ? zh_CN : en_US\n            });\n        });\n      }\n    render () {\n        return (\n            <ConfigProvider locale={this.state.antdLang}>  \n            <Router>\n                <div>\n                   {\n                      AppRouter.map((item,index)=>{\n                        if(item.isShow){\n                            if(item.exact){\n                                return (\n                                    <Route\n                                    key={index}\n                                    exact\n                                    path={item.path}\n                                    render={props=>(\n                                        <item.component {...props}/>\n                                    )}\n                                    />\n                                )\n                            }else{\n                                return (\n                                    <Route\n                                    key={index}\n                                    path={item.path}\n                                    render={props=>(\n                                        <item.component {...props}/>\n                                    )}\n                                    />\n                                )\n                            }\n                        }\n                      })\n                    }\n                    <div>\n                    <FooterNav/>\n                    </div>\n                </div>\n            </Router>\n            </ConfigProvider>\n        )\n    }\n}\nexport default App"]},"metadata":{},"sourceType":"module"}